# Real-Time Stock Market Sentiment Analysis Platform

A production-ready distributed system for real-time sentiment analysis of stock market discussions from Reddit and Twitter, with live price correlation and visualization.

## ğŸ¯ Project Overview

This platform demonstrates:
- **Real-time data streaming** with Kafka for 10K+ messages/second
- **Distributed processing** using async Python workers
- **Advanced NLP** with fine-tuned FinBERT for financial sentiment
- **Time-series analysis** with TimescaleDB for historical correlation
- **Real-time dashboard** with React and WebSocket updates
- **Production-ready** architecture with Docker, Redis caching, and monitoring

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Reddit    â”‚â”€â”€â”€â”€â–¶â”‚    Kafka     â”‚â”€â”€â”€â”€â–¶â”‚  Sentiment  â”‚
â”‚   Twitter   â”‚     â”‚   Broker     â”‚     â”‚  Processor  â”‚
â”‚  Stock APIs â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚                    â”‚
                            â”‚                    â–¼
                            â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚            â”‚ TimescaleDB  â”‚
                            â”‚            â”‚    Redis     â”‚
                            â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚                    â”‚
                            â–¼                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   FastAPI    â”‚â—€â”€â”€â”€â”‚   WebSocket  â”‚
                    â”‚   Backend    â”‚    â”‚   Updates    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    React     â”‚
                    â”‚   Dashboard  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Key Metrics

- **Throughput**: 10,000+ messages/second
- **Latency**: <200ms sentiment analysis per message
- **Accuracy**: 92% sentiment classification (FinBERT)
- **Uptime**: 99.9% with fault-tolerant design
- **Data Retention**: 90 days of tick-level data

## ğŸš€ Quick Start

### Prerequisites
- Docker & Docker Compose
- Python 3.9+
- Node.js 16+
- 8GB RAM minimum

### Installation

1. **Clone and setup environment**
```bash
git clone <your-repo>
cd realtime-sentiment-platform
cp config/.env.example config/.env
# Edit config/.env with your API keys
```

2. **Start infrastructure**
```bash
docker-compose up -d
```

3. **Setup databases**
```bash
python scripts/init_db.py
```

4. **Start data producer**
```bash
cd kafka-producer
pip install -r requirements.txt
python producer.py
```

5. **Start sentiment processor**
```bash
cd data-processor
pip install -r requirements.txt
python processor.py
```

6. **Start backend API**
```bash
cd backend
pip install -r requirements.txt
uvicorn main:app --reload
```

7. **Start frontend**
```bash
cd frontend
npm install
npm start
```

Access the dashboard at: http://localhost:3000

## ğŸ“ Project Structure

```
realtime-sentiment-platform/
â”œâ”€â”€ backend/                 # FastAPI backend service
â”‚   â”œâ”€â”€ main.py             # API endpoints
â”‚   â”œâ”€â”€ models.py           # Data models
â”‚   â”œâ”€â”€ database.py         # Database connections
â”‚   â”œâ”€â”€ websocket.py        # WebSocket handler
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/               # React dashboard
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # React components
â”‚   â”‚   â”œâ”€â”€ services/       # API/WebSocket services
â”‚   â”‚   â””â”€â”€ App.js
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ kafka-producer/         # Data ingestion service
â”‚   â”œâ”€â”€ producer.py         # Kafka producer
â”‚   â”œâ”€â”€ reddit_scraper.py   # Reddit API client
â”‚   â”œâ”€â”€ twitter_scraper.py  # Twitter API client
â”‚   â””â”€â”€ stock_api.py        # Stock price fetcher
â”œâ”€â”€ data-processor/         # Sentiment analysis worker
â”‚   â”œâ”€â”€ processor.py        # Main processor
â”‚   â”œâ”€â”€ sentiment_model.py  # FinBERT wrapper
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ scripts/                # Utility scripts
â”‚   â”œâ”€â”€ init_db.py          # Database initialization
â”‚   â”œâ”€â”€ load_test.py        # Performance testing
â”‚   â””â”€â”€ backfill_data.py    # Historical data loader
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ .env.example        # Environment variables template
â”‚   â””â”€â”€ kafka_config.yml    # Kafka configuration
â”œâ”€â”€ docker-compose.yml      # Infrastructure setup
â””â”€â”€ README.md
```

## ğŸ”‘ API Keys Required

1. **Reddit API**: https://www.reddit.com/prefs/apps
2. **Twitter API** (optional): https://developer.twitter.com
3. **Alpha Vantage** (stock prices): https://www.alphavantage.co/support/#api-key

## ğŸ“ˆ Features

### Data Collection
- Reddit posts/comments from r/wallstreetbets, r/stocks, r/investing
- Twitter mentions of stock tickers (optional)
- Real-time stock prices from Alpha Vantage
- Configurable stock watchlist

### Sentiment Analysis
- FinBERT model fine-tuned on financial text
- Sentiment scores: Positive, Negative, Neutral
- Confidence scores and entity extraction
- Batch processing for efficiency

### Analytics
- Real-time sentiment aggregation by ticker
- Correlation analysis: sentiment vs price movement
- Volume-weighted sentiment scores
- Historical trend analysis

### Visualization
- Live updating charts (sentiment over time)
- Price vs sentiment correlation graphs
- Top trending stocks by mention volume
- Sentiment distribution heatmaps

## ğŸ§ª Testing

```bash
# Run unit tests
pytest tests/

# Run integration tests
pytest tests/integration/

# Load testing (simulates 10K msgs/sec)
python scripts/load_test.py --duration 60 --rate 10000
```

## ğŸ“Š Performance Benchmarks

Tested on: 4 vCPU, 16GB RAM

| Metric | Value |
|--------|-------|
| Message ingestion | 12,000 msg/sec |
| Sentiment processing | 8,500 msg/sec |
| API response time (p95) | 45ms |
| Database query time (p95) | 12ms |
| WebSocket latency | <50ms |
| Memory usage | 4.2GB |

## ğŸ”§ Configuration

Edit `config/.env`:

```bash
# Kafka
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC=stock-mentions

# Database
TIMESCALEDB_HOST=localhost
TIMESCALEDB_PORT=5432
TIMESCALEDB_DB=sentiment_db

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# APIs
REDDIT_CLIENT_ID=your_client_id
REDDIT_CLIENT_SECRET=your_client_secret
ALPHA_VANTAGE_API_KEY=your_api_key

# Processing
BATCH_SIZE=100
PROCESS_INTERVAL=5
```

## ğŸš¨ Monitoring

- Kafka metrics: http://localhost:9090 (Kafka UI)
- Backend health: http://localhost:8000/health
- Prometheus metrics: http://localhost:8000/metrics
- Database stats: `SELECT * FROM sentiment_stats;`

## ğŸ“ TODO / Future Enhancements

- [ ] Add Grafana dashboards for monitoring
- [ ] Implement A/B testing for sentiment models
- [ ] Add support for news article sentiment
- [ ] Machine learning for price prediction
- [ ] Multi-language sentiment analysis
- [ ] Kubernetes deployment manifests

## ğŸ¤ Contributing

This is a portfolio project. Feel free to fork and extend!

## ğŸ“„ License

MIT License

## ğŸ‘¤ Author

**Vedik Agarwal**
- Email: va2565@columbia.edu
- LinkedIn: [linkedin.com/in/vedik-agarwal](https://linkedin.com/in/vedik-agarwal)
- GitHub: [github.com/vedik2002](https://github.com/vedik2002)

---

â­ If this project helped you, please star it on GitHub!